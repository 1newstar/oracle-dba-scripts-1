set serverout on
DECLARE
  sql_stmt VARCHAR2(200);
BEGIN
FOR x in (
select owner,index_name from dba_indexes where owner in ('SYSTEM') 
and index_name not like '%$$%' 
and index_name not like '%IOT%' 
and index_name not like '%MGMT%' 
and index_name not like '%SYS_%'
and index_type in ('FUNCTION-BASED NORMAL','BITMAP','NORMAL')
)
LOOP
  sql_stmt := 'alter index '||x.owner||'.'||x.index_name||' monitoring usage';
  DBMS_OUTPUT.PUT_LINE ( sql_stmt ||';') ;
  EXECUTE IMMEDIATE sql_stmt;
END LOOP;
END;
/

